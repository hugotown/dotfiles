# ~/.config/starship.toml
# Tokyo Night Powerline Theme
# Shells: Fish, Nushell, Zsh

"$schema" = 'https://starship.rs/config-schema.json'

palette = "tokyo_night"

command_timeout = 1000
add_newline = true

# Prompt layout:
# Line 1: [OS hostname](green) [shell](dark) [git] [languages] [tools] ··· [duration] [time] [username](purple)
# Line 2: directory ❯
format = """
[](green)\
$os\
$hostname\
[](fg:green bg:dark3)\
$shell\
[](fg:dark3) \
$git_branch\
$git_status\
$git_state\
$git_metrics\
$package\
$c\
$nodejs\
$python\
$rust\
$golang\
$java\
$lua\
$nix_shell\
$docker_context\
$kubernetes\
$terraform\
$aws\
$jobs\
$fill\
$memory_usage\
$battery\
$cmd_duration\
$time\
[ ](fg:purple)\
$username\
[](fg:purple)\
$line_break\
$directory\
$character"""

# ===== PALETTE =====

[palettes.tokyo_night]
blue = "#7aa2f7"
cyan = "#7dcfff"
green = "#9ece6a"
magenta = "#bb9af7"
red = "#f7768e"
yellow = "#e0af68"
purple = "#9d7cd8"
orange = "#ff9e64"
dark_blue = "#3d59a1"
comment = "#565f89"
foreground = "#c0caf5"
dark = "#1a1b26"
dark2 = "#24283b"
dark3 = "#414868"

# ══════════════════════════════════════════
#  POWERLINE SEGMENTS (always visible)
# ══════════════════════════════════════════

[os]
disabled = false
format = "[$symbol ](bg:green fg:dark)"

[os.symbols]
Macos = ""
Linux = ""
Windows = ""

[username]
style_user = "bg:purple fg:dark bold"
style_root = "bg:purple fg:red bold"
format = "[$user ](bg:purple fg:dark bold)"
show_always = true

[hostname]
ssh_only = false
format = "[$hostname](bg:green fg:dark bold)"

[directory]
truncation_length = 2
truncate_to_repo = false
format = "[$path]($style)[$read_only]($read_only_style) "
style = "fg:blue bold"
read_only = " 󰌾"
read_only_style = "fg:red"

[directory.substitutions]
"Documents" = "󰈙 "
"Downloads" = " "
"Music" = "󰝚 "
"Pictures" = " "
"Developer" = "󰲋 "

# ══════════════════════════════════════════
#  GIT
# ══════════════════════════════════════════

[git_branch]
symbol = " "
format = "[$symbol$branch(:$remote_branch)]($style) "
style = "fg:magenta bold"

[git_status]
format = '([$all_status$ahead_behind]($style) )'
style = "fg:red bold"
conflicted = " ${count} "
ahead = "⇡${count} "
behind = "⇣${count} "
diverged = "⇕⇡${ahead_count}⇣${behind_count} "
up_to_date = "[✓](fg:green) "
untracked = "?${count} "
stashed = "󰏗 ${count} "
modified = "!${count} "
staged = "+${count} "
renamed = "»${count} "
deleted = "✘${count} "

[git_state]
format = '\([$state( $progress_current/$progress_total)]($style)\) '
style = "fg:comment"

[git_metrics]
disabled = false
added_style = "fg:green"
deleted_style = "fg:red"
format = '([+$added]($added_style) )([-$deleted]($deleted_style) )'

# ══════════════════════════════════════════
#  LANGUAGES
# ══════════════════════════════════════════

[nodejs]
symbol = " "
format = "[$symbol$version]($style) "
style = "fg:green"

[python]
symbol = " "
format = '[$symbol$pyenv_prefix$version( \($virtualenv\))]($style) '
style = "fg:yellow"

[rust]
symbol = "󱘗 "
format = "[$symbol$version]($style) "
style = "fg:orange"

[golang]
symbol = " "
format = "[$symbol$version]($style) "
style = "fg:cyan"

[java]
symbol = " "
format = "[$symbol$version]($style) "
style = "fg:red"

[lua]
symbol = " "
format = "[$symbol$version]($style) "
style = "fg:blue"

[c]
symbol = " "
format = "[$symbol$version(-$name)]($style) "
style = "fg:blue"

[package]
symbol = "󰏗 "
format = "[$symbol$version]($style) "
style = "fg:orange"

# ══════════════════════════════════════════
#  TOOLS & CLOUD
# ══════════════════════════════════════════

[nix_shell]
symbol = " "
format = '[$symbol$state( \($name\))]($style) '
style = "fg:cyan bold"

[docker_context]
symbol = " "
format = "[$symbol$context]($style) "
style = "fg:blue"

[kubernetes]
disabled = false
symbol = "☸ "
format = '[$symbol$context( \($namespace\))]($style) '
style = "fg:blue"

[terraform]
symbol = "󱁢 "
format = "[$symbol$workspace]($style) "
style = "fg:purple"

[aws]
symbol = " "
format = '[$symbol($profile )(\($region\))]($style) '
style = "fg:orange"

[conda]
symbol = " "
format = '[$symbol$environment]($style) '
style = "fg:green"

# ══════════════════════════════════════════
#  FILL (separates left ↔ right)
# ══════════════════════════════════════════

[fill]
symbol = " "

# ══════════════════════════════════════════
#  RIGHT SIDE INFO
# ══════════════════════════════════════════

[memory_usage]
disabled = false
threshold = 70
format = "[󰍛 ${ram_pct}]($style) "
style = "fg:cyan"

[battery]
format = "[$symbol$percentage]($style) "

[[battery.display]]
threshold = 20
style = "fg:red bold"
charging_symbol = "󰢟 "
discharging_symbol = "󰁺 "

[[battery.display]]
threshold = 50
style = "fg:yellow"
charging_symbol = "󰂆 "
discharging_symbol = "󰂃 "

[[battery.display]]
threshold = 80
style = "fg:green"
charging_symbol = "󰂉 "
discharging_symbol = "󰂁 "

[cmd_duration]
min_time = 500
format = "[ $duration]($style) "
style = "fg:yellow"

[time]
disabled = false
format = "[ $time]($style)"
style = "fg:comment"
time_format = "%H:%M:%S"
utc_time_offset = "local"

# ══════════════════════════════════════════
#  LINE 2
# ══════════════════════════════════════════

[shell]
disabled = false
fish_indicator = "󰈺 fish"
zsh_indicator = " zsh"
nu_indicator = "> nu"
bash_indicator = " bash"
format = "[ $indicator ](bg:dark3 fg:foreground bold)"

[jobs]
disabled = false
symbol = "󰜎 "
number_threshold = 1
format = "[$symbol$number]($style) "
style = "fg:yellow bold"

[character]
success_symbol = "[→](fg:green bold)"
error_symbol = "[→](fg:red bold)"
vimcmd_symbol = "[←](fg:green bold)"
vimcmd_replace_one_symbol = "[←](fg:purple bold)"
vimcmd_replace_symbol = "[←](fg:purple bold)"
vimcmd_visual_symbol = "[←](fg:yellow bold)"
